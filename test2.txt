if (isset(f5)) {
  set.horizon(10);
  load.view(5);
  load.view(1);
  load.view(3);
  load.view(4);
  load.view(2);
  load.view(28);
  load.view(29);
  load.view(30);
  load.sound(41);
  load.sound(1);
  load.sound(2);
  load.sound(44);
  v53 = 96;
  load.pic(v53);
  load.pic(v0);
  load.logics(105);
  if (v1 == 98) {
    v53 = 97;
    load.pic(v53);
    draw.pic(v53);
    graphics();
    discard.pic(v53);
  }
  draw.pic(v0);
  animate.obj(o1);
  set.view(o1,28);
  set.loop(o1,0);
  set.cel(o1,0);
  position(o1,39,89);
  v53 = 2;
  cycle.time(o1,v53);
  animate.obj(o2);
  set.view(o2,5);
  set.loop(o2,2);
  fix.loop(o2);
  ignore.blocks(o2);
  ignore.objs(o2);
  animate.obj(o3);
  set.view(o3,29);
  set.loop(o3,0);
  set.cel(o3,0);
  set.priority(o3,4);
  ignore.objs(o3);
  position(o3,57,84);
  animate.obj(o4);
  set.view(o4,29);
  set.loop(o4,1);
  set.cel(o4,0);
  set.priority(o4,5);
  ignore.objs(o4);
  position(o4,72,79);
  if (v26 != 2) {
    animate.obj(o7);
    set.view(o7,29);
    set.loop(o7,2);
    set.priority(o7,6);
    ignore.objs(o7);
    position(o7,57,37);
  }
  animate.obj(o5);
  set.view(o5,30);
  set.loop(o5,0);
  set.cel(o5,1);
  set.priority(o5,15);
  position(o5,48,61);
  animate.obj(o6);
  set.view(o6,30);
  set.loop(o6,1);
  set.cel(o6,0);
  set.priority(o6,15);
  ignore.objs(o6);
  cycle.time(o6,v87);
  position(o6,75,114);
  animate.obj(o8);
  set.view(o8,29);
  set.loop(o8,3);
  set.cel(o8,0);
  set.priority(o8,4);
  ignore.blocks(o8);
  ignore.objs(o8);
  position(o8,57,84);
  v50 = 1;
  set.view(o0,5);
  position(o0,110,141);
  observe.blocks(o0);
  reset(f7);
  reset(f71);
  v33 = 100;
  sound(1,f40);
  wander(o0);
  draw(o0);
  show.pic();
  accept.input();
  program.control();
  v96 = 0;
  status.line.on();
  if (v1 == 98) {
    print.at("Orbital Station 4 is one of many"
             "orbiting Xenon, your home planet. It"
             "is a transfer point for travelers"
             "seeking transportation to the"
             "various planets in the Earnon system.",2,3,35);
    print.at("As we begin this chapter of our"
             "story, we find you, %s1, ace"
             "janitor, doing what you do best.",2,3,35);
  }
  if ((isset(f12) ||
      v1 == 98 ||
      isset(f6))) {
    prevent.input();
  }
}
if (isset(f67)) {
  reset(f67);
  if (v35 == 5) {
    print("A beep emanates from your wrist watch."
          "You release your grip on the broom.");
  }
  if (v35 == 4) {
    v38 = 125;
    v36 = 1;
  }
  if (v35 == 3) {
    reset(f69);
  }
  if (v35 == 2) {
    print("The broom floats away, never to be used"
          "again. That makes the third one this"
          "week. Wait till your boss finds out.");
  }
  if (v35 == 1) {
    print("Due to an obvious lack of common sense"
          "you have stepped off the edge, lost"
          "your magnetic grip of the ship, and"
          "drifted to your death.");
    v67 = 1;
  }
}
if (v33 > 0 &&
    !isset(f35) &&
    (isset(f40) ||
    isset(f65))) {
  sound(1,f40);
}
if (isset(f69) &&
    isset(f65)) {
  display(24,10,"Press F10 When Done");
}
if (isset(f34)) {
  reset(f34);
  erase(o2);
  set(f67);
  v35 = 2;
}
v33--;
if (v33 == 1) {
  normal.motion(o0);
  start.motion(o0);
  current.loop(o0,v53);
  set.view(o0,1);
  set.loop.v(o0,v53);
  if (v53 == 1) {
    get.posn(o0,v51,v52);
    v51 += 9;
    reposition.to.v(o0,v51,v52);
  }
  player.control();
  start.motion(o0);
  sound(41,f61);
  ignore.blocks(o0);
  set(f67);
  v35 = 5;
  set(f35);
  get.posn(o0,v54,v55);
  v54 += 8;
  position.v(o2,v54,v55);
  if (v55 < 143) {
    set.priority(o2,15);
  }
  draw(o2);
  v34 = 0;
  v54 = 159;
  move.obj.v(o2,v54,v55,34,f34);
  accept.input();
}
if (!isset(f32) &&
    posn(o0,46,88,53,93) &&
    v30 == 1) {
  set(f32);
  program.control();
  draw(o1);
  stop.cycling(o1);
  erase(o0);
  v31 = 20;
}
v31--;
if (v31 == 1) {
  end.of.loop(o1,f30);
  sound(2,f41);
}
if (isset(f30)) {
  reset(f30);
  if (isset(f31)) {
    set(f15);
    print("You are whisked away to the airlock"
          "chamber.");
    v3 += 1;
    new.room(3);
  }
  else {
    v32 = 10;
    set(f31);
    stop.sound();
  }
}
v32--;
if (v32 == 1) {
  set.loop(o1,1);
  set.cel(o1,0);
  end.of.loop(o1,f30);
}
if (!isset(f69)) {
  get.posn(o0,v51,v52);
  if (v30 == 1) {
    if (v51 > 19 &&
        v52 > 112) {
      set.view(o0,3);
      v30 = 2;
      v52 -= 18;
      reposition.to.v(o0,v51,v52);
      observe.blocks(o0);
    }
    else {
      if (isset(f3)) {
        set.view(o0,4);
        v30 = 3;
        v6 = 5;
        v52 -= 10;
        reposition.to.v(o0,v51,v52);
      }
    }
  }
  else {
    if (v30 == 2) {
      if (v52 > 138) {
        set.view(o0,1);
        v30 = 0;
        v52 += 2;
        reposition.to.v(o0,v51,v52);
        ignore.blocks(o0);
      }
      else {
        if (v52 < 93) {
          set.view(o0,2);
          v30 = 1;
          v52 += 18;
          reposition.to.v(o0,v51,v52);
          ignore.blocks(o0);
        }
        else {
          if (v51 < 19) {
            set.view(o0,4);
            v30 = 3;
            v51 -= 2;
            reposition.to.v(o0,v51,v52);
            ignore.blocks(o0);
          }
        }
      }
    }
    else {
      if (v30 == 3) {
        if (v51 > 18) {
          set.view(o0,3);
          v30 = 2;
          v51 += 2;
          reposition.to.v(o0,v51,v52);
          observe.blocks(o0);
        }
        else {
          if ((posn(o0,15,141,20,141) ||
              posn(o0,10,145,14,145) ||
              posn(o0,5,149,9,149) ||
              posn(o0,0,153,4,153))) {
            set.view(o0,1);
            v6 = 3;
            v30 = 0;
            v51 += 2;
            v52 += 1;
            reposition.to.v(o0,v51,v52);
          }
          else {
            if ((posn(o0,15,90,20,90) ||
                posn(o0,10,87,14,87) ||
                posn(o0,5,84,9,84) ||
                posn(o0,0,81,4,81))) {
              set.view(o0,2);
              v30 = 1;
              v6 = 3;
              v52 += 15;
              reposition.to.v(o0,v51,v52);
            }
          }
        }
      }
      else {
        if (v52 < 139 &&
            v51 < 92) {
          set.view(o0,3);
          v30 = 2;
          v52 -= 2;
          reposition.to.v(o0,v51,v52);
          observe.blocks(o0);
        }
        else {
          if (isset(f3)) {
            if (v51 < 102) {
              get.dir(o0,v53);
              if (v53 > 5) {
                v6 = 1;
                set.view(o0,4);
                if (v51 > 4) {
                  v51 -= 4;
                }
                v52 -= 3;
                reposition.to.v(o0,v51,v52);
                v30 = 3;
              }
            }
            else {
              if (!isset(f53)) {
                set(f53);
                v96 = 4;
                program.control();
                stop.cycling(o0);
                set(f50);
                start.motion(o0);
                set.priority(o0,4);
                v51 += 2;
                reposition.to.v(o0,v51,v52);
                get.posn(o0,v51,v52);
                v52 = 167;
                v34 = 5;
                move.obj.v(o0,v51,v52,34,f33);
              }
            }
          }
        }
      }
    }
  }
}
if (isset(f33)) {
  reset(f33);
  erase(o0);
  set(f67);
  v35 = 1;
}
if (isset(f69)) {
  if ((controller(c13) ||
      isset(f37))) {
    set(f38);
    reset(f37);
    v39 = 0;
    reset(f36);
    if (v26 != 2) {
      clear.lines(24,24,0);
      erase(o7);
    }
    draw.pic(v0);
    unanimate.all();
    animate.obj(o0);
    animate.obj(o1);
    draw(o0);
    start.motion(o0);
    v6 = 0;
    ignore.blocks(o0);
    show.pic();
    status.line.on();
    reset(f71);
    set(f67);
    v35 = 3;
    v41 = 0;
    v38 = 0;
    v40 = 0;
    v39 = 0;
  }
}
v37--;
if (v37 == 1) {
  get.posn(o6,v51,v52);
  erase(o6);
  if (v41 == 3) {
    if (v51 == 75 &&
        isset(f35) &&
        !isset(f42)) {
      set.priority(o3,4);
      set.priority(o4,5);
      set.priority(o7,6);
      draw(o3);
      draw(o4);
      if (v26 != 2) {
        draw(o7);
        random(1,10,v39);
      }
      set.cel(o5,0);
      stop.cycling(o5);
      stop.cycling(o4);
      v38 = 18;
    }
    else {
      print("Since you have no messages waiting,"
            "there is no response.");
      v41 = 0;
    }
  }
  if (v41 == 1) {
    draw(o8);
    v42 = 36;
  }
  if (v41 == 2) {
    set(f39);
    prevent.input();
    text.screen();
    display(5,1,"       YOUR HOROSCOPE FOR"
            "TODAY:\n\n\n       Keep up the good"
            "work! Today\n      could bring that"
            "big promotion\n          you think"
            "you deserve!\n\n          Don't take"
            "any wooden\n               buckazoids!");
    v41 = 0;
  }
}
if (isset(f39)) {
  set.scan.start();
  if (have.key()) {
    reset.scan.start();
    graphics();
    accept.input();
    v41 = 0;
    reset(f39);
    display(24,10,"Press F10 When Done");
  }
  return();
}
v42--;
if (v42 == 1) {
  if (v41 == 1) {
    erase(o8);
    v41 = 0;
  }
}
v38--;
if (v36 > 0 &&
    v38 == 2) {
  erase(o3);
  erase(o4);
  if (v26 != 2) {
    erase(o7);
  }
  v39 = 0;
  reset(f36);
  set.cel(o5,1);
  stop.cycling(o5);
}
if (v38 == 1) {
  if (v36 > 0) {
    if (isset(f69)) {
      close.window();
      print("With that, the image disappears.");
    }
    set(f37);
    reset(f35);
  }
  else {
    start.cycling(o4);
    v40 = 50;
  }
}
v40--;
if (v40 == 35) {
  reverse.cycle(o4);
  if (v26 == 2) {
    set(f42);
    print("\"%s1! Get in here on the double!"
          "You've got a mess to clean up in the"
          "shuttle which just returned. One of the"
          "passengers got space sick on the way"
          "down. Besides, you should have been"
          "done out there an hour ago. Get a move"
          "on!\"");
    print("With that, the image disappears.");
    set(f37);
    reset(f35);
    v40 = 0;
  }
  else {
    set(f42);
    set(f15);
    print.at("\"%s1! Get in here on the double!"
             "You've got a mess to clean up in the"
             "shuttle which just returned. One of"
             "the passengers got space sick on the"
             "way down. Besides, you should have"
             "been done out there an hour ago. Get"
             "a move on!\"",12,2,36);
  }
}
if (v40 == 20) {
  normal.cycle(o4);
}
if (v40 == 1) {
  set.cel(o4,0);
  stop.cycling(o4);
  set(f67);
  v35 = 4;
}
v39--;
if (v39 == 1 &&
    !isset(f38)) {
  ignore.objs(o7);
  v54 = 57;
  random(17,37,v55);
  position.v(o7,v54,v55);
  set.priority(o7,6);
  draw(o7);
  move.obj(o7,57,89,20,f36);
}
if (isset(f36) &&
    isset(f35) &&
    v26 != 2) {
  reset(f36);
  erase(o7);
  random(2,10,v39);
}
if ((said("check out","area") ||
    said("check out") ||
    said("check out","craft"))) {
  if (isset(f69)) {
    print("You are staring at your wrist and,"
          "apparently, awaiting some divine"
          "guidance.");
  }
  else {
    print("You are working outside Xenon Orbital"
          "Station 4. This area hasn't been"
          "completed yet. You have been sent out"
          "here to remove construction debris and"
          "space dust.");
  }
}
if (said("check out","communicator")) {
  if (!isset(f69)) {
    set(f69);
    set(f71);
    reset(f38);
    v53 = 96;
    unanimate.all();
    draw.pic(v53);
    add.to.pic(30,1,1,55,114,15,4);
    add.to.pic(30,1,1,75,114,15,4);
    add.to.pic(30,1,1,95,114,15,4);
    animate.obj(o6);
    animate.obj(o5);
    animate.obj(o8);
    set.priority(o5,15);
    if (isset(f35) &&
        !isset(f42)) {
      animate.obj(o3);
      animate.obj(o4);
      animate.obj(o7);
      start.cycling(o5);
    }
    else {
      set.cel(o5,1);
      stop.cycling(o5);
    }
    draw(o5);
    show.pic();
    display(24,10,"Press F10 When Done");
    status.line.off();
  }
  else {
    print("Good idea!");
  }
}
if (isset(f69) &&
    v41 <= 0) {
  if ((said("check out","glow") ||
      said("check out","communicator","glow"))) {
    if (isset(f35)) {
      print("A light flashes on the watch's upper"
            "left corner. It means you have a"
            "caller waiting.");
    }
    else {
      print("It doesn't glow at this time.");
    }
  }
  if (said("check out","button")) {
    print("There are three: H, C, & T.");
  }
  if ((said("h") ||
      said("press","h") ||
      said("press","h","button"))) {
    set.priority(o6,15);
    reposition.to(o6,55,114);
    set.cel(o6,0);
    draw(o6);
    stop.cycling(o6);
    v37 = 15;
    v41 = 2;
  }
  if ((said("c") ||
      said("press","c") ||
      said("press","c","button"))) {
    set.priority(o6,15);
    reposition.to(o6,75,114);
    set.cel(o6,0);
    draw(o6);
    stop.cycling(o6);
    v37 = 15;
    v41 = 3;
    if (!isset(f201)) {
      set(f201);
      v3 += 1;
    }
  }
  if ((said("s") ||
      said("press","s") ||
      said("press","s","button"))) {
    set.priority(o6,15);
    reposition.to(o6,95,114);
    set.cel(o6,0);
    draw(o6);
    stop.cycling(o6);
    v37 = 15;
    v41 = 1;
  }
  if ((said("check out","altimeter") ||
      said("check out","communicator"))) {
    print("Good idea!");
  }
  if (isset(f2) &&
      !isset(f4)) {
    set(f4);
    print("Just press F10 or a button.");
  }
}
if ((said("check out","galaxy") ||
    said("check out","moon"))) {
  print("You gaze out into the near nothingness."
        "The billions and billions of worlds"
        "apparent to the eye make you realize how"
        "truly insignificant you are.");
}
if (said("check out","attire")) {
  print("You are wearing the latest in EVA"
        "(Extra-Vehicular Activity) wear. The suit"
        "provides an oxygenated atmosphere. It is"
        "designed to protect the wearer from the"
        "extreme temperature differences the suns"
        "and shadows can cause, as well as"
        "providing a barrier for micrometeoroid"
        "traffic.");
}
if ((said("empty","attire") ||
    said("strip") ||
    said("strip","own") ||
    said("acquire","naked") ||
    said("empty","helmet"))) {
  print("Didn't you learn anything in the last"
        "game? You can't expose bare human to the"
        "harshness of space!");
}
if (said("check out","broom")) {
  print("Too late for that. You lost it.");
}
if (said("check out","airlock")) {
  print("The airlock is not much to look at. It is"
        "activated when the small platform is"
        "stepped on.");
}
if ((said("open","airlock") ||
    said("climb in","airlock"))) {
  print("Stand on the small platform.");
}
if ((said("check out","rail") ||
    said("check out","beam"))) {
  print("The rails and beams all lead to the"
        "unfinished end of the Orbital Station.");
}
if ((said("acquire","broom") ||
    said("follow","broom"))) {
  print("Go ahead. You control movement.");
}
call(105);
return();

// Messages
#message 1 "You are working outside Xenon Orbital Station 4. This area hasn't been completed yet. You have been sent out here to remove construction debris and space dust."
#message 2 "A beep emanates from your wrist watch. You release your grip on the broom."
#message 3 "Due to an obvious lack of common sense you have stepped off the edge, lost your magnetic grip of the ship, and drifted to your death."
#message 4 "You are whisked away to the airlock chamber."
#message 5 "The broom floats away, never to be used again. That makes the third one this week. Wait till your boss finds out."
#message 6 "Press F10 When Done"
#message 9 "Nothing happens."
#message 10 "\"%s1! Get in here on the double! You've got a mess to clean up in the shuttle which just returned. One of the passengers got space sick on the way down. Besides, you should have been done out there an hour ago. Get a move on!\""
#message 11 "With that, the image disappears."
#message 12 "The walls and deck are made of a very strong composite material commonly used in space craft."
#message 13 "You gaze out into the near nothingness. The billions and billions of worlds apparent to the eye make you realize how truly insignificant you are."
#message 14 "You are wearing the latest in EVA (Extra-Vehicular Activity) wear. The suit provides an oxygenated atmosphere. It is designed to protect the wearer from the extreme temperature differences the suns and shadows can cause, as well as providing a barrier for micrometeoroid traffic."
#message 15 "Didn't you learn anything in the last game? You can't expose bare human to the harshness of space!"
#message 16 "Too late for that. You lost it."
#message 17 "The airlock is not much to look at. It is activated when the small platform is stepped on."
#message 18 "Stand on the small platform."
#message 22 "The rails and beams all lead to the unfinished end of the Orbital Station."
#message 23 "       YOUR HOROSCOPE FOR TODAY:\n\n\n       Keep up the good work! Today\n      could bring that big promotion\n          you think you deserve!\n\n          Don't take any wooden\n               buckazoids!"
#message 25 "Good idea!"
#message 26 "You are staring at your wrist and, apparently, awaiting some divine guidance."
#message 27 "Orbital Station 4 is one of many orbiting Xenon, your home planet. It is a transfer point for travelers seeking transportation to the various planets in the Earnon system."
#message 28 "As we begin this chapter of our story, we find you, %s1, ace janitor, doing what you do best."
#message 29 "Since you have no messages waiting, there is no response."
#message 31 "Go ahead. You control movement."
#message 32 "A light flashes on the watch's upper left corner. It means you have a caller waiting."
#message 33 "It doesn't glow at this time."
#message 34 "There are three: H, C, & T."
#message 35 "Just press F10 or a button."
